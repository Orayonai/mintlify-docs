---
title: 'Introducao a API'
description: 'Visao geral da API Orayon - Supabase + N8N'
---

## Base URLs

| Ambiente | URL |
|----------|-----|
| **Supabase REST** | `https://tkrjfifrwttikwsghuju.supabase.co/rest/v1` |
| **Supabase RPC** | `https://tkrjfifrwttikwsghuju.supabase.co/rest/v1/rpc` |
| **Edge Functions** | `https://tkrjfifrwttikwsghuju.supabase.co/functions/v1` |
| **Webhooks N8N** | `https://webhook.orayon.com.br/webhook` |

## Autenticacao

Todas as requisicoes requerem headers de autenticacao:

```bash
Authorization: Bearer SUA_SERVICE_KEY
apikey: SUA_ANON_KEY
Content-Type: application/json
```

<Note>
  Use `service_role` key para operacoes administrativas e `anon` key para operacoes publicas.
</Note>

## Schemas Disponiveis

| Schema | Descricao | Headers |
|--------|-----------|---------|
| `public` | Leads, eventos, configuracoes | Nenhum adicional |
| `whatsapp` | Sessoes, contatos, mensagens | `Accept-Profile: whatsapp` |

## Tipos de Endpoints

<CardGroup cols={2}>
  <Card title="RPC Functions" icon="function" href="/api-reference/rpc/get-lead">
    Funcoes do banco de dados
  </Card>
  <Card title="REST Tables" icon="table" href="/api-reference/tables/sessions">
    Operacoes CRUD em tabelas
  </Card>
  <Card title="Edge Functions" icon="bolt" href="/api-reference/edge/process-message">
    Funcoes serverless
  </Card>
  <Card title="Webhooks" icon="webhook" href="/api-reference/webhooks/transferir-humano">
    Endpoints N8N
  </Card>
</CardGroup>

## Formato de Resposta

Todas as respostas sao em JSON:

```json
{
  "success": true,
  "data": { ... },
  "error": null
}
```

## Codigos de Status

| Codigo | Descricao |
|--------|-----------|
| `200` | Sucesso |
| `201` | Criado com sucesso |
| `400` | Requisicao invalida |
| `401` | Nao autorizado |
| `404` | Nao encontrado |
| `409` | Conflito (registro duplicado) |
| `500` | Erro interno |

## Rate Limiting

| Servico | Limite |
|---------|--------|
| Supabase REST | 1000 req/min |
| Edge Functions | 500 req/min |
| Webhooks N8N | Sem limite |
