---
title: 'Variaveis do Config'
description: 'Referencia completa de todas as variaveis do no Config'
icon: 'gear'
---

## Visao Geral

O no **Config** (tipo Set) centraliza todas as configuracoes do Agente. Abaixo esta a referencia completa de cada variavel.

---

## Organizacao

<ParamField path="EmpresaNome" type="string" required>
  Nome da organizacao cadastrada no Supabase. Usado para buscar configuracoes especificas.

  **Exemplo:** `"MinhaEmpresa"`

  <Warning>
    Deve corresponder exatamente ao nome na tabela `organizations` do Supabase.
  </Warning>
</ParamField>

<ParamField path="OwnerPhone" type="string" required>
  Numero do WhatsApp Business (apenas digitos, com DDI).

  **Exemplo:** `"5511999999999"`

  **Formato:** DDI + DDD + Numero (sem espacos, tracos ou parenteses)
</ParamField>

---

## Sessao

<ParamField path="SessionTimeout" type="number" default="24">
  Tempo em **horas** ate a sessao expirar automaticamente.

  **Exemplo:** `72` (3 dias)

  Apos esse tempo sem interacao, uma nova sessao sera criada.
</ParamField>

<ParamField path="BufferTimeout" type="number" default="9">
  Tempo em **segundos** para agrupar mensagens consecutivas do mesmo usuario.

  **Exemplo:** `9`

  <Tip>
    Util quando o usuario envia varias mensagens seguidas. O sistema aguarda esse tempo antes de processar, agrupando tudo em uma unica requisicao.
  </Tip>
</ParamField>

---

## Supabase

<ParamField path="SUPABASE_URL" type="string" required>
  URL do projeto Supabase.

  **Exemplo:** `"https://tkrjfifrwttikwsghuju.supabase.co"`

  **Onde encontrar:**
  1. Acesse [supabase.com](https://supabase.com)
  2. Selecione seu projeto
  3. Va em **Settings** > **API**
  4. Copie a **Project URL**
</ParamField>

<ParamField path="SUPABASE_ANON_KEY" type="string" required>
  Chave anonima (anon key) do Supabase.

  **Exemplo:** `"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."`

  **Onde encontrar:**
  1. Acesse seu projeto no Supabase
  2. Va em **Settings** > **API**
  3. Copie a **anon public** key

  <Warning>
    Use a chave `anon` (publica), nao a `service_role` (secreta).
  </Warning>
</ParamField>

---

## OpenAI

<ParamField path="openai_api_key" type="string" required>
  API Key da OpenAI para processamento de IA.

  **Exemplo:** `"sk-proj-HGGVv97XJMNZSd8n..."`

  **Onde obter:**
  1. Acesse [platform.openai.com/api-keys](https://platform.openai.com/api-keys)
  2. Clique em **Create new secret key**
  3. Copie a chave gerada

  **Usado para:**
  - Transcricao de audio (Whisper)
  - Analise de imagens (GPT-4 Vision)
  - Processamento de texto
</ParamField>

---

## Redis (Buffer de Mensagens)

<ParamField path="redis_url" type="string">
  URL do servidor Redis/Upstash.

  **Exemplo:** `"redis-17472.fcrce213.us-east-1-3.ec2.cloud.redislabs.com:17472"`

  **Onde obter:**
  1. Acesse [upstash.com](https://upstash.com)
  2. Crie um banco Redis
  3. Copie o **Endpoint** (sem `redis://`)
</ParamField>

<ParamField path="redis_token" type="string">
  Token/senha do Redis.

  **Exemplo:** `"PB3urpo2fvZdGuwG3RvYfg5g72d8Ap9d"`

  **Onde obter:**
  No console do Upstash, copie o **Password**.
</ParamField>

---

## API de Envio

<ParamField path="UnderlyingAPI" type="string" default="META">
  Qual API usar para enviar mensagens.

  **Valores possiveis:**
  - `"META"` - WhatsApp Business Cloud API (oficial)
  - `"UAZAPI"` - API alternativa UAZAPI

  <Info>
    Essa configuracao define qual conjunto de credenciais sera usado.
  </Info>
</ParamField>

---

## META Cloud API

<Note>
  Apenas necessario se `UnderlyingAPI = "META"`
</Note>

<ParamField path="META_TOKEN" type="string">
  Access Token do WhatsApp Business API.

  **Exemplo:** `"EAFtabZAICSRkBQNjSS4h8ku..."`

  **Onde obter:** [Veja o guia completo](/guides/n8n-agent/meta-api)
</ParamField>

<ParamField path="PhoneNumberIdOFICIAL" type="string">
  ID do numero de telefone no Meta Business.

  **Exemplo:** `"903845722807525"`

  **Onde obter:** [Veja o guia completo](/guides/n8n-agent/meta-api)

  **Usado para:**
  - Enviar mensagens
  - Mostrar "digitando..." no WhatsApp
</ParamField>

---

## UAZAPI

<Note>
  Apenas necessario se `UnderlyingAPI = "UAZAPI"`
</Note>

<ParamField path="UAZAPI_BASE_URL" type="string">
  URL base da API.

  **Exemplo:** `"https://api.uazapi.com"`
</ParamField>

<ParamField path="UAZAPI_TOKEN" type="string">
  Token de autenticacao da API.

  **Exemplo:** `"seu-token-aqui"`
</ParamField>

---

## Exemplo Completo

```json
{
  "EmpresaNome": "MinhaEmpresa",
  "OwnerPhone": "5511999999999",
  "SessionTimeout": 24,
  "BufferTimeout": 9,

  "SUPABASE_URL": "https://xxx.supabase.co",
  "SUPABASE_ANON_KEY": "eyJhbGciOiJIUzI1NiIs...",

  "openai_api_key": "sk-proj-...",
  "redis_url": "redis-17472.xxx.com:17472",
  "redis_token": "PB3urpo2fv...",

  "UnderlyingAPI": "META",

  "META_TOKEN": "EAFtabZAICS...",
  "PhoneNumberIdOFICIAL": "903845722807525",

  "UAZAPI_BASE_URL": "",
  "UAZAPI_TOKEN": ""
}
```
